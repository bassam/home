#!/bin/bash

get_ssh_config()
{
    local tmpdir sshconfig
    
    tmpdir=/tmp
    case "$(uname -s)" in
        CYGWIN_NT*|Linux)
            sshconfig=$(mktemp -u --suffix=._ssh_config)
	
	    # cleanup first
            find $tmpdir/ -name '*.ssh_config' -exec rm {} \;  2> /dev/null
            ;;
        Darwin)
            sshconfig=$(mktemp -u -t ._ssh_config)
	    
	    # cleanup first
            find $tmpdir/ -name '.ssh_config*' -exec rm {} \;  2> /dev/null
            ;;
        *)
            echo 'unsupported OS'
            exit
            ;;
    esac


    find "$HOME"/.ssh/ -name '*config' -print0 | xargs -0 cat >"$sshconfig" 2> /dev/null
    echo "$sshconfig"
}

get_ssh_config
