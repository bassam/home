#!/bin/bash

get_ssh_config()
{
    local tmpdir sshconfig
    
    tmpdir=/tmp
    case "$(uname -s)" in
        CYGWIN_NT-6.2|Linux)
            sshconfig=$(mktemp -u --suffix=._ssh_config)
            ;;
        Darwin)
            sshconfig=$(mktemp -u -t ._ssh_config)
            ;;
        *)
            echo 'unsupported OS'
            exit
            ;;
    esac

    # cleanup first
    rm $tmpdir/._ssh_config* 2>/dev/null

    find "$HOME"/.ssh -name config -print0 | xargs -0 cat >"$sshconfig" 2> /dev/null
    echo "$sshconfig"
}

get_ssh_config